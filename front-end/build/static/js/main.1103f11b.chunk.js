(this["webpackJsonpfront-end"]=this["webpackJsonpfront-end"]||[]).push([[0],{216:function(e,t,n){},270:function(e,t,n){"use strict";n.r(t);var a=n(0),c=n(54),r=n.n(c),i=(n(216),n(9)),s=n(24),o=n(17),l=(n(217),n(298)),j=n(299),d=n(117),u=n.n(d),h=n(1),b=function(){return Object(h.jsxs)(u.a,{infiniteLoop:!0,autoFocus:!0,showThumbs:!1,showStatus:!1,showIndicators:!1,className:"homeCarousel",children:[Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{alt:"imag",src:"https://www.parkgrandlancastergate.co.uk/blog/wp-content/uploads/2018/01/hyde-poark-2.jpg"}),Object(h.jsx)(s.b,{to:{pathname:"/parks"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"All Parks"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{alt:"imag",src:"https://cdn.shopify.com/s/files/1/0014/0633/7135/articles/primrose_hill_1200x.jpg?v=1532604924"}),Object(h.jsx)(s.b,{to:{pathname:"/parks/region",state:"North%20London"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"North London"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"https://i0.wp.com/www.montcalmroyallondoncity.co.uk/blog/wp-content/uploads/2017/12/shutterstock_156450068.jpg?fit=1000%2C667&ssl=1"}),Object(h.jsx)(s.b,{to:{pathname:"/parks/region",state:"East%20London"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"East London"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"https://www.london-forever.com/wp-content/uploads/2020/09/hyde-park.jpg"}),Object(h.jsx)(s.b,{to:{pathname:"/parks/region",state:"Central%20London"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"Central London"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"https://img.locationscout.net/images/2019-05/richmond-park-london-uk-united-kingdom_l.jpeg"}),Object(h.jsx)(s.b,{to:{pathname:"/parks/region",state:"South%20London"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"South London"})})})]}),Object(h.jsxs)("div",{children:[Object(h.jsx)("img",{src:"https://offloadmedia.feverup.com/secretldn.com/wp-content/uploads/2018/02/18150424/22637281_1082893518480502_4132483769749733376_n-2.jpg"}),Object(h.jsx)(s.b,{to:{pathname:"/parks/region",state:"West%20London"},children:Object(h.jsx)(l.a,{fluid:!0,inverted:!0,color:"olive",children:Object(h.jsx)(j.a,{className:"homePageFooter",as:"h1",children:"West London"})})})]})]})},p=n(301),O=n(159),x=n(56),m=n(200),g=n(291),f=function(){var e=Object(a.useState)(!0),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.f)(),s=function(e){c(!n),"All"===e.target.dataset.id?r.push("/parks"):r.push({pathname:"/parks/region",state:e.target.dataset.id})};return Object(h.jsxs)(g.a.div,{initial:{opacity:0,translateY:"0"},animate:{opacity:.7,translateY:"10px"},transition:{delay:.2},style:{position:"absolute",left:"5.5em",top:"4em",background:"green",color:"white",fontWeight:"bold",textAlign:"center",display:n?"visable":"none",borderRadius:"5px",padding:"20px",zIndex:1},children:[Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"North%20London",onClick:s,children:"North London"}),Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"Central%20London",onClick:s,children:"Central London"}),Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"South%20London",onClick:s,children:"South London"}),Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"East%20London",onClick:s,children:"East London"}),Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"West%20London",onClick:s,children:"West London"}),Object(h.jsx)(g.a.p,{whileHover:{scale:1.2},"data-id":"All",onClick:s,children:"All Parks"})]})},v=function(){return window.localStorage.getItem("token")},k=function(){var e=v();if(e){var t=e.split(".");if(!(t.length<3)){var n=t[1];return JSON.parse(atob(n))}}},w=function(){var e=k();return!!e&&Math.round(Date.now()/1e3)<e.exp},y=n(49),C=function(e){var t=e.userData,n=Object(o.f)(),c=Object(a.useState)(!1),r=Object(i.a)(c,2),s=r[0],d=r[1],u=Object(o.g)();Object(a.useEffect)((function(){}),[u.pathname]);return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{style:{postion:"relative"},color:"green",inverted:!0,vertical:!0,children:[Object(h.jsxs)(p.a,{icon:!0,secondary:!0,color:"green",inverted:!0,children:[Object(h.jsxs)(O.a,{position:"left",children:[Object(h.jsx)(p.a.Item,{onClick:function(){return n.push("/")},children:Object(h.jsx)(x.a,{name:"home",size:"big"})}),Object(h.jsx)(p.a.Item,{name:"Parks by Region",onClick:function(){return d(!s)}})]}),Object(h.jsx)(p.a.Item,{children:Object(h.jsx)(j.a,{as:"h1",inverted:!0,className:"navbarTitle",children:"Best London Parks \ud83c\udf33"})}),w()?Object(h.jsxs)(O.a,{position:"right",children:[Object(h.jsxs)(p.a.Item,{onClick:function(){return n.push("/profile")},children:[Object(h.jsx)(m.a,{src:t.profilePicture,size:"mini",avatar:!0,spaced:"right"}),Object(h.jsx)("p",{children:t.username})]}),Object(h.jsx)(p.a.Item,{name:"Logout",onClick:function(){var e;window.localStorage.removeItem("token"),e=t.username,y.c.error("See you soon ".concat(e,"!"),{position:"top-left",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"}),n.push("/")}})]}):Object(h.jsxs)(O.a,{position:"right",children:[Object(h.jsx)(p.a.Item,{onClick:function(){return n.push("/login")},children:"Login"}),Object(h.jsx)(p.a.Item,{onClick:function(){return n.push("/register")},children:"Register"})]})]}),Object(h.jsx)(y.b,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0,transition:y.a}),Object(h.jsx)(h.Fragment,{children:s&&Object(h.jsx)(f,{})})]})})},A=n(12),S=n.n(A),F=n(15),P=n(14),L=n.n(P),I=n(287),N=n(304),T=n(197),z=n(288),D=n(198),H=n(289),E=n(295),_=n(272),M=n(302),R=n(294),B=n(140),W=function(e){var t=e._id,n=e.title,c=e.images,r=e.postcode,s=e.longitude,d=e.latitude,u=Object(a.useState)(!1),b=Object(i.a)(u,2),p=b[0],O=b[1],f=Object(a.useState)(!1),v=Object(i.a)(f,2),k=v[0],w=v[1],y=Object(o.f)(),C=Object(o.g)(),A=Object(a.useState)(null),P=Object(i.a)(A,2),W=P[0],U=P[1];Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/london-parks-api/".concat(t));case 2:n=e.sent,a=n.data,U(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t]);return console.log(),Object(a.useEffect)((function(){}),[C.pathname,t]),Object(h.jsx)(h.Fragment,{children:W&&Object(h.jsx)(g.a.div,{whileHover:{scale:1.1},initial:{x:"-100vw"},animate:{x:0},children:Object(h.jsxs)(I.a,{className:"parkCardContainer",textAlign:"center",children:[Object(h.jsx)(l.a,{piled:!0,raised:!0,children:Object(h.jsxs)(N.a,{columns:2,divided:!0,children:[Object(h.jsx)(T.a,{onClick:function(){return y.push("/parks/".concat(t))},children:Object(h.jsxs)(z.a,{animated:"fade",instant:!0,children:[Object(h.jsx)(D.a,{visible:!0,children:Object(h.jsx)(m.a,{src:c[0],alt:n,rounded:!0,fluid:!0,size:"big"})}),Object(h.jsx)(D.a,{hidden:!0,children:Object(h.jsx)(m.a,{src:c[1],alt:n,rounded:!0,fluid:!0,size:"big"})})]})}),Object(h.jsxs)(T.a,{children:[Object(h.jsx)(g.a.div,{whileHover:{scale:1.5},children:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",inverted:!0,color:"red",children:[Object(h.jsx)(x.a,{name:"hand point down outline"}),Object(h.jsx)(j.a.Content,{children:n})]})}),Object(h.jsx)(H.a,{hidden:!0}),Object(h.jsx)(g.a.div,{whileHover:{scale:1.5},whileTap:{scale:.9},children:Object(h.jsxs)(E.a,{onClose:function(){return O(!1)},onOpen:function(){return O(!0)},open:p,trigger:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",inverted:!0,color:"blue",children:[Object(h.jsx)(x.a,{name:"home"}),Object(h.jsx)(j.a.Content,{children:r})]}),children:[Object(h.jsxs)(j.a,{as:"h1",textAlign:"center",children:["Here is ",n,"!"]}),Object(h.jsx)(E.a.Content,{children:Object(h.jsx)(l.a,{raised:!0,children:Object(h.jsx)(B.a,{mapboxApiAccessToken:"pk.eyJ1IjoiamFuZWsyMjA0OTEiLCJhIjoiY2t3MjRqZ2hsMDZxOTMxcWxzb3lteWhnNCJ9.vKujjvCJQMx9JepYmly5Cg",height:"30em",width:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",zoom:13,latitude:d,longitude:s})})}),Object(h.jsx)(E.a.Actions,{children:Object(h.jsx)(_.a,{onClick:function(){return O(!1)},positive:!0,children:"Okay!"})})]})}),Object(h.jsx)(H.a,{hidden:!0}),isNaN(function(){var e=W.comments.map((function(e){return e.rating}));return e.reduce((function(e,t){return e+t}),0)/e.length}())?Object(h.jsx)(g.a.div,{whileHover:{scale:1.5},whileTap:{scale:.9},children:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",color:"yellow",children:[Object(h.jsx)(x.a,{name:"star outline"}),Object(h.jsx)(j.a.Content,{children:"Be the first to rate this park!"})]})}):Object(h.jsx)(g.a.div,{whileHover:{scale:1.5},whileTap:{scale:.9},children:Object(h.jsxs)(E.a,{onClose:function(){return w(!1)},onOpen:function(){return w(!0)},open:k,trigger:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",color:"yellow",children:[Object(h.jsx)(x.a,{name:"star outline"}),Object(h.jsx)(j.a.Content,{children:"Average Rating"}),Object(h.jsx)(M.a,{defaultRating:W.averageRating,icon:"star",maxRating:5,disabled:!0})]}),children:[Object(h.jsx)(j.a,{as:"h1",textAlign:"center",children:"Latest comments!"}),Object(h.jsx)(E.a.Content,{scrolling:!0,children:Object(h.jsx)(l.a,{raised:!0,children:W.comments.length&&W.comments.map((function(e){return Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(I.a,{children:Object(h.jsx)(R.a.Group,{children:Object(h.jsx)(R.a,{children:Object(h.jsxs)(R.a.Content,{children:[Object(h.jsx)(R.a.Avatar,{as:"a",src:e.owner.profilePicture,floated:"right"}),Object(h.jsx)(R.a.Author,{as:"a",children:e.owner.username}),Object(h.jsx)(R.a.Metadata,{children:Object(h.jsx)("div",{children:e.createdAt.slice(0,10)})}),Object(h.jsx)(R.a.Text,{children:e.text}),Object(h.jsx)(M.a,{defaultRating:e.rating,icon:"star",maxRating:5,disabled:!0}),Object(h.jsx)(H.a,{})]})})})})})}))})}),Object(h.jsx)(E.a.Actions,{children:Object(h.jsx)(_.a,{onClick:function(){return w(!1)},positive:!0,children:"Okay!"})})]})})]})]})}),Object(h.jsx)(H.a,{hidden:!0})]},t)})})},U=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/london-parks-api");case 2:t=e.sent,n=t.data,c(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),console.log(n),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{raised:!0,className:"regionTitle",children:Object(h.jsx)(j.a,{as:"h1",textAlign:"center",id:"parkHeader",color:"green",children:"All Parks \ud83c\udf42"})}),n.map((function(e){return Object(h.jsx)(W,{_id:e._id,title:e.title,images:e.images,description:e.description,postcode:e.postcode,activities:e.activites,url:e.url,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)})}))]})},Y=n(297),J=function(e){var t=e.setUserData,n=Object(a.useState)([]),c=Object(i.a)(n,2),r=c[0],s=c[1],d=Object(a.useState)([]),u=Object(i.a)(d,2),b=u[0],p=u[1],O=Object(a.useState)([]),f=Object(i.a)(O,2),k=f[0],w=f[1],C=Object(a.useState)(!1),A=Object(i.a)(C,2),P=A[0],I=A[1],z=Object(o.f)();Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/profile",{headers:{Authorization:"Bearer ".concat(v())}});case 2:t=e.sent,n=t.data,s(n),p(n.favouriteParks),w(n.createdAt),a=n.username,y.c.info("Welcome ".concat(a,"!"),{position:"top-right",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"});case 8:case"end":return e.stop()}var a}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),t(r);var D=function(){var e=Object(F.a)(S.a.mark((function e(t){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,L.a.delete("/api/profile/".concat(r._id),{headers:{Authorization:"Bearer ".concat(v())}});case 4:window.localStorage.removeItem("token"),z.push("/parks"),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(g.a.div,{initial:{scale:0},animate:{rotate:360,scale:1},transition:{type:"spring",stiffness:160,damping:20},children:Object(h.jsx)(N.a,{centered:!0,children:Object(h.jsx)(T.a,{children:Object(h.jsxs)(Y.a,{fluid:!0,children:[Object(h.jsx)(m.a,{src:r.profilePicture,centered:!0,size:"big",fluid:!0}),Object(h.jsxs)(Y.a.Content,{children:[Object(h.jsx)(Y.a.Header,{as:"h1",children:r.username}),Object(h.jsx)(Y.a.Meta,{children:Object(h.jsxs)("span",{className:"date",children:["Joined: ",k.slice(0,10)]})})]}),Object(h.jsx)(Y.a.Content,{extra:!0,children:Object(h.jsxs)(E.a,{closeIcon:!0,open:P,trigger:Object(h.jsx)(_.a,{color:"red",floated:"right",children:"Delete my profile"}),onClose:function(){return I(!1)},onOpen:function(){return I(!0)},children:[Object(h.jsx)(j.a,{icon:"archive",content:"Deleting your profile"}),Object(h.jsx)(E.a.Content,{children:Object(h.jsxs)("p",{children:["Are you sure you want to delete your profile?",Object(h.jsx)("br",{}),"All data will be lost"]})}),Object(h.jsxs)(E.a.Actions,{children:[Object(h.jsxs)(_.a,{color:"red",onClick:function(){return I(!1)},children:[Object(h.jsx)(x.a,{name:"remove"})," No"]}),Object(h.jsxs)(_.a,{color:"green",onClick:D,children:[Object(h.jsx)(x.a,{name:"checkmark"})," Yes"]})]})]})})]})})})}),Object(h.jsx)(l.a,{children:Object(h.jsx)(j.a,{as:"h1",textAlign:"center",children:"Your favourite parks in London!"})}),Object(h.jsx)(N.a,{centered:!0,celled:"internally",children:b.map((function(e){return Object(h.jsx)(g.a.div,{whileHover:{position:"relative",zIndex:1,scale:[1,1.4,1.2],rotate:[0,10,-10,0],filter:["hue-rotate(0) contrast(100%)","hue-rotate(360deg) contrast(200%)","hue-rotate(45deg) contrast(300%)","hue-rotate(0) contrast(100%)"],transition:{duration:.2}},children:Object(h.jsx)(l.a,{vertical:!0,textAlign:"left",children:Object(h.jsxs)(Y.a,{onClick:function(){return z.push("/parks/".concat(e._id))},children:[Object(h.jsx)(m.a,{src:e.images[0]}),Object(h.jsxs)(Y.a.Content,{children:[Object(h.jsx)(Y.a.Header,{children:e.title}),Object(h.jsx)(Y.a.Meta,{children:Object(h.jsx)("span",{className:"date",children:e.postcode})}),Object(h.jsx)(Y.a.Description,{children:e.region})]})]},e._id)})})}))})]})},q=function(){var e=Object(a.useState)(null),t=Object(i.a)(e,2),n=t[0],c=t[1],r=Object(o.g)();return Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/london-parks-api/region/".concat(r.state));case 2:t=e.sent,n=t.data,console.log(n),c(n);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[r.state]),Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{raised:!0,className:"regionTitle",children:Object(h.jsxs)(j.a,{as:"h1",textAlign:"center",id:"parkHeader",color:"green",children:[n&&n[0].region," \ud83c\udf41"]})}),n&&n.map((function(e){return Object(h.jsx)(W,{_id:e._id,title:e.title,images:e.images,description:e.description,postcode:e.postcode,activities:e.activites,url:e.url,latitude:parseFloat(e.latitude),longitude:parseFloat(e.longitude)})}))]})},Z=n(29),Q=n(292),V=function(e){var t=e.park,n=e.id,c=Object(a.useState)(null),r=Object(i.a)(c,2),s=r[0],o=r[1],d=Object(a.useState)(!1),u=Object(i.a)(d,2),b=u[0],p=u[1],O=Object(a.useState)(null),m=Object(i.a)(O,2),g=m[0],f=m[1],k=Object(a.useState)(null),w=Object(i.a)(k,2),y=w[0],C=w[1],A=Object(a.useState)(null),P=Object(i.a)(A,2),I=P[0],N=P[1],T=function(){var e=Object(F.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,o(!0),p(!b),b){e.next=8;break}return e.next=6,L.a.post("/api/favourite-parks",y,{headers:{Authorization:"Bearer ".concat(v())}});case 6:e.next=10;break;case 8:return e.next=10,L.a.delete("/api/favourite-parks",{data:{favData:y},headers:{Authorization:"Bearer ".concat(v())}});case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),console.log("error");case 15:case"end":return e.stop()}}),e,null,[[0,12]])})));return function(){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var t,n;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/profile",{headers:{Authorization:"Bearer ".concat(v())}});case 2:t=e.sent,n=t.data,N(n);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[]),Object(a.useEffect)((function(){!function(){if(null===I)return console.log("use effect running on initial render");I.favouriteParks.filter((function(e){return e._id===t._id})).length?f(!0):console.log("not a fav park")}()}),[I,t._id]);var z=function(){var e=Object(F.a)(S.a.mark((function e(){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f(!1),e.prev=1,e.next=4,L.a.delete("/api/favourite-parks",{data:{targetPark:n},headers:{Authorization:"Bearer ".concat(v())}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),console.log(e.t0);case 9:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(){return e.apply(this,arguments)}}();return Object(h.jsx)("div",{color:"olive",children:g?Object(h.jsx)(l.a,{raised:!0,class:"parkPageColumns",color:"olive",children:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",inverted:!0,color:"red",children:[Object(h.jsx)(Q.a,{trigger:Object(h.jsx)(x.a,{onClick:z,name:"heart"}),children:Object(h.jsx)(Q.a.Content,{children:Object(h.jsxs)("p",{children:["Click to ",Object(h.jsx)("strong",{children:"REMOVE"})," this park from your favourites"]})})}),Object(h.jsx)(j.a.Content,{children:"Favourite"})]})}):Object(h.jsx)(l.a,{raised:!0,class:"parkPageColumns",color:"olive",children:Object(h.jsxs)(j.a,{as:"h3",icon:!0,textAlign:"center",inverted:!0,color:"red",children:[Object(h.jsx)(Q.a,{trigger:s?Object(h.jsx)(x.a,{onClick:T,onMouseLeave:function(){console.log(b),o(!!b)},name:"heart"}):Object(h.jsx)(x.a,{onMouseEnter:function(){var e=Object(Z.a)(Object(Z.a)({},y),{},{targetPark:n});C(e),o(!0)},onClick:T,name:"heart outline"}),children:Object(h.jsx)(Q.a.Content,{children:b?Object(h.jsxs)("p",{children:["Click to ",Object(h.jsx)("strong",{children:"REMOVE"})," this park from your favourites"]}):Object(h.jsxs)("p",{children:["Click to ",Object(h.jsx)("strong",{children:"ADD"})," this to your favourites"]})})}),Object(h.jsx)(j.a.Content,{children:"Favourite"})]})})})},G=n(81),K=n.n(G),X=function(e){var t=e.park,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!1),j=Object(i.a)(o,2),d=j[0],u=j[1];return Object(a.useEffect)((function(){if(t){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,L.a.get("https://api.openweathermap.org/data/2.5/onecall?lat=".concat(t.latitude,"&lon=").concat(t.longitude,"&units=metric&exclude=minutely,hourly&appid=").concat("aac79f7437159960c7f5b86c296e60a3"));case 3:n=e.sent,a=n.data,s(a),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),u(!0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}();e()}}),[]),Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{id:"weather-main",children:[Object(h.jsx)(N.a,{columns:3,children:Object(h.jsx)(N.a.Column,{children:Object(h.jsx)(l.a,{id:"header-main",basic:!0,children:"Weather Forcast"})})}),r?Object(h.jsxs)(l.a,{id:"blue-segment",children:[Object(h.jsxs)(N.a,{columns:3,children:[Object(h.jsxs)(N.a.Column,{id:"weather-column",children:[Object(h.jsx)("p",{id:"day",children:K()().format("dddd")}),Object(h.jsx)("p",{id:"day",children:K()().format("LL")}),Object(h.jsx)(l.a,{id:"description",basic:!0,children:r.current.weather[0].description.toUpperCase()})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Temperature: ",Math.round(r.current.temp)," \xb0C"]}),Object(h.jsxs)("p",{id:"day",children:["Humidity: ",r.current.humidity," %"]})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Sunrise:"," ",new Date(1e3*r.current.sunrise).toLocaleTimeString("en-IN")]}),Object(h.jsxs)("p",{id:"day",children:["Sunset:"," ",new Date(1e3*r.current.sunset).toLocaleTimeString("en-IN")]})]})]}),Object(h.jsx)(H.a,{}),Object(h.jsxs)(N.a,{columns:3,children:[Object(h.jsxs)(N.a.Column,{id:"weather-column",children:[Object(h.jsx)("p",{id:"day",children:K()().add(1,"days").format("dddd")}),Object(h.jsx)("p",{id:"day",children:K()().add(1,"days").format("LL")}),Object(h.jsx)(l.a,{id:"description",basic:!0,children:r.daily[1].weather[0].description.toUpperCase()})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Temperature: ",Math.round(r.daily[1].temp.day)," \xb0C"]}),Object(h.jsxs)("p",{id:"day",children:["Humidity: ",r.daily[1].humidity," %"]})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Sunrise:"," ",new Date(1e3*r.daily[1].sunrise).toLocaleTimeString("en-IN")]}),Object(h.jsxs)("p",{id:"day",children:["Sunset:"," ",new Date(1e3*r.daily[1].sunset).toLocaleTimeString("en-IN")]})]})]}),Object(h.jsx)(H.a,{}),Object(h.jsxs)(N.a,{columns:3,children:[Object(h.jsxs)(N.a.Column,{id:"weather-column",children:[Object(h.jsx)("p",{id:"day",children:K()().add(2,"days").format("dddd")}),Object(h.jsx)("p",{id:"day",children:K()().add(2,"days").format("LL")}),Object(h.jsx)(l.a,{id:"description",basic:!0,children:r.daily[2].weather[0].description.toUpperCase()})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Temperature: ",Math.round(r.daily[2].temp.day)," \xb0C"]}),Object(h.jsxs)("p",{id:"day",children:["Humidity: ",r.daily[2].humidity," %"]})]}),Object(h.jsxs)(N.a.Column,{children:[Object(h.jsxs)("p",{id:"day",children:["Sunrise:"," ",new Date(1e3*r.daily[2].sunrise).toLocaleTimeString("en-IN")]}),Object(h.jsxs)("p",{id:"day",children:["Sunset:"," ",new Date(1e3*r.daily[2].sunset).toLocaleTimeString("en-IN")]})]})]})]}):Object(h.jsx)("h2",{children:d?"Something has gone wrong!":"Weather is loading"})]})})},$=(n(268),n(293)),ee=function(e){var t=e.park,n=Object(a.useState)(null),c=Object(i.a)(n,2),r=c[0],s=c[1];return Object(h.jsx)(l.a,{raised:!0,textAlign:"center",color:"olive",children:Object(h.jsxs)($.a,{style:{padding:"15px"},onSubmit:function(e){e.preventDefault(),window.open("https://tfl.gov.uk/plan-a-journey/results?InputFrom=".concat(r,"&FromId=&InputTo=").concat(t.postcode,"&ToId="),"_blank")},children:[Object(h.jsx)(j.a,{color:"olive",children:"How can I get there?"}),Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("p",{style:{color:"#4183c4"},children:"Enter your postcode"}),Object(h.jsx)("input",{id:"planner-input",fluid:"false",size:"small",onChange:function(e){var t=e.target.value;s(t)},placeholder:"SW19 1AA..."})]}),Object(h.jsx)(_.a,{color:"olive",type:"submit",children:"Take me there!"})]})})},te=function(e){var t=e.park;return Object(h.jsx)(h.Fragment,{children:Object(h.jsxs)(l.a,{raised:!0,color:"olive",children:[Object(h.jsxs)(N.a,{columns:3,children:[Object(h.jsx)(N.a.Column,{children:Object(h.jsx)(I.a,{id:"postCodeContainer",children:Object(h.jsx)(j.a,{as:"h4",textAlign:"left",color:"olive",children:Object(h.jsxs)(l.a.Inline,{children:[Object(h.jsx)(I.a,{children:Object(h.jsx)("p",{children:"Postcode"})}),Object(h.jsx)(I.a,{children:Object(h.jsx)("p",{children:t.postcode})})]})})})}),Object(h.jsx)(N.a.Column,{children:Object(h.jsx)(l.a,{basic:!0,children:"yes"===t.dogFriendly?Object(h.jsx)(m.a,{src:"https://static.thenounproject.com/png/14830-200.png",size:"tiny",left:!0,id:"dog-yes"}):"no"===t.dogFriendly?Object(h.jsx)(m.a,{src:"https://createsigns.co.nz/wp-content/uploads/2017/05/No-Pets-Service-Animals-Allowed-Sign-No-Dog-Icon-1.png",size:"small",left:!0,id:"no-dog"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(l.a.Inline,{children:Object(h.jsxs)(N.a,{column:2,children:[Object(h.jsx)(m.a,{src:"https://etc.usf.edu/clipart/70300/70382/70382_262_rg-110_s_md.gif",size:"tiny",left:!0}),Object(h.jsx)(j.a,{as:"h6",textAlign:"left",id:"header-park-info",children:Object(h.jsx)("a",{href:"https://www.royalparks.org.uk/managing-the-parks/park-regulations-legislation-and-policies/dogs-in-the-royal-parks",children:"with some restrictions"})})]})})})})}),Object(h.jsx)(N.a.Column,{children:Object(h.jsx)(l.a,{basic:!0,children:"yes"===t.cyclistFriendly?Object(h.jsx)(m.a,{src:"https://media.istockphoto.com/illustrations/green-bicycle-traffic-sign-vector-icon-illustration-id1162027328?k=20&m=1162027328&s=170667a&w=0&h=FRM8rA0O-oCFfVUND-eg1m8ICpUealQ8Rw0a8Sk98OU=",size:"tiny",left:!0,id:"greenBicycle"}):"no"===t.cyclistFriendly?Object(h.jsx)(m.a,{src:"https://previews.123rf.com/images/almightyalex/almightyalex1810/almightyalex181001450/111051484-stop-or-ban-sign-with-cyclist-icon-isolated-on-white-background-cycling-is-prohibited-vector-illustr.jpg",size:"tiny",left:!0,id:"no-cycle"}):Object(h.jsx)(h.Fragment,{children:Object(h.jsx)(l.a.Inline,{children:Object(h.jsxs)(N.a,{column:2,children:[Object(h.jsx)(m.a,{src:"https://media.istockphoto.com/illustrations/green-bicycle-traffic-sign-vector-icon-illustration-id1162027328?k=20&m=1162027328&s=170667a&w=0&h=FRM8rA0O-oCFfVUND-eg1m8ICpUealQ8Rw0a8Sk98OU=",size:"tiny",left:!0,id:"greenBicycle"}),Object(h.jsx)(j.a,{as:"h6",textAlign:"left",id:"header-park-info",children:Object(h.jsx)("a",{href:"https://www.royalparks.org.uk/managing-the-parks/cycling-in-the-royal-parks",children:"with some restrictions"})})]})})})})})]}),Object(h.jsx)(H.a,{}),Object(h.jsx)(l.a.Inline,{children:Object(h.jsxs)(N.a,{column:2,children:[Object(h.jsx)(m.a,{src:"https://thumbs.dreamstime.com/b/web-vector-icon-arrow-website-icon-cursor-move-web-vector-icon-arrow-website-icon-cursor-move-122726028.jpg",size:"tiny"}),Object(h.jsx)("p",{textAlign:"left",as:"h6",children:Object(h.jsx)("a",{href:t.url,children:t.title})})]})})]})})},ne=n(296),ae=function(e){var t=e.park;return Object(h.jsx)(l.a,{raised:!0,color:"olive",id:"activities-segment",fluid:!0,children:Object(h.jsxs)("div",{children:[Object(h.jsxs)(j.a,{as:"h4",textAlign:"left",color:"olive",children:[Object(h.jsx)(m.a,{src:"https://img.freepik.com/free-vector/landscape-park-scene-icon_24877-56515.jpg?size=338&ext=jpg",alt:t.title,size:"massive",left:!0}),"Activities"]}),Object(h.jsx)(ne.a,{bulleted:!0,animated:!0,verticalAlign:"middle",children:t.activites.map((function(e){return Object(h.jsx)(ne.a.Item,{children:e})}))})]})})},ce=n(55),re=function(e){var t=e.id,n=Object(a.useState)(!1),c=Object(i.a)(n,2),r=c[0],s=c[1],o=Object(a.useState)(!1),d=Object(i.a)(o,2),u=d[0],b=d[1],p=Object(a.useState)(!1),O=Object(i.a)(p,2),m=O[0],g=O[1],f=Object(a.useState)(!0),C=Object(i.a)(f,2),A=C[0],P=C[1],I=Object(a.useState)({text:"",rating:0,owner:""}),N=Object(i.a)(I,2),T=N[0],z=N[1],D=function(){var e=k();if(e)return e.sub},B=function(){var e=Object(F.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log(n.target.value),e.next=3,L.a.delete("/api/london-parks-api/".concat(t,"/comments/").concat(n.target.value),{headers:{Authorization:"Bearer ".concat(v())}});case 3:U(),b(!1),s(!r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),W=function(){var e=Object(F.a)(S.a.mark((function e(n){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n.preventDefault(),T.rating){e.next=6;break}return g(!m),e.abrupt("return");case 6:return e.prev=6,e.next=9,L.a.post("/api/london-parks-api/".concat(t,"/comments"),T,{headers:{Authorization:"Bearer ".concat(v())}});case 9:s(!r),Y(),g(!1),console.log(D()),console.log(A[0].owner._id),e.next=19;break;case 16:e.prev=16,e.t0=e.catch(6),console.log(e.t0);case 19:document.querySelector("textarea").value="";case 20:case"end":return e.stop()}}),e,null,[[6,16]])})));return function(t){return e.apply(this,arguments)}}();Object(a.useEffect)((function(){var e=function(){var e=Object(F.a)(S.a.mark((function e(){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,L.a.get("/api/london-parks-api/".concat(t,"/comments"));case 2:n=e.sent,a=n.data,P(a);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e()}),[t,r,P]);var U=function(){y.c.info("Comment is deleted!",{position:"top-center",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})},Y=function(){y.c.success("Comment is added!",{position:"top-center",hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"colored"})};return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsxs)(R.a.Group,{children:[Object(h.jsx)(j.a,{as:"h3",color:"green",dividing:!0,children:"Comments"}),Object(h.jsx)(R.a,{children:Object(h.jsxs)(R.a.Content,{children:[A.length?A.map((function(e){return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(R.a.Avatar,{as:"a",src:e.owner.profilePicture,floated:"right"}),Object(h.jsx)(R.a.Author,{as:"a",children:e.owner.username}),Object(h.jsx)(R.a.Metadata,{children:Object(h.jsx)("div",{children:e.createdAt.slice(0,10)})}),e.owner._id===D()&&Object(h.jsxs)(E.a,{closeIcon:!0,open:u,trigger:Object(h.jsx)(_.a,{color:"red",floated:"right",children:"Delete comment"}),onClose:function(){return b(!1)},onOpen:function(){return b(!0)},children:[Object(h.jsx)(j.a,{icon:"archive",content:"Deleting comment"}),Object(h.jsx)(E.a.Content,{children:Object(h.jsx)("p",{children:"Are you sure you want to delete your comment?"})}),Object(h.jsxs)(E.a.Actions,{children:[Object(h.jsxs)(_.a,{color:"red",onClick:function(){return b(!1)},children:[Object(h.jsx)(x.a,{name:"remove"})," No"]}),Object(h.jsxs)(_.a,{color:"green",value:e._id,onClick:B,children:[Object(h.jsx)(x.a,{name:"checkmark"})," Yes"]})]})]}),Object(h.jsx)(R.a.Text,{children:e.text}),Object(h.jsx)(M.a,{defaultRating:e.rating,icon:"star",maxRating:5,disabled:!0}),Object(h.jsx)(H.a,{})]})})):Object(h.jsx)(j.a,{textAlign:"center",as:"h2",children:"Be first to comment and rate this park!"}),w()?Object(h.jsxs)($.a,{reply:!0,children:[Object(h.jsx)($.a.TextArea,{onChange:function(e){var t,n=Object(Z.a)(Object(Z.a)({},T),{},(t={},Object(ce.a)(t,e.target.name,e.target.value),Object(ce.a)(t,"owner",D()),t));z(n)},name:"text",placeholder:"Your comment..."}),Object(h.jsx)(M.a,{onClick:function(e){var t=e.target.attributes.getNamedItem("aria-posinset").value,n=Object(Z.a)(Object(Z.a)({},T),{},{rating:t});z(n)},icon:"star",maxRating:5,name:"rating"}),m?Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("p",{style:{color:"red"},children:"Please add a rating to submit your comment"}),Object(h.jsx)(_.a,{autoFocus:!0,onClick:W,content:"Add Comment",labelPosition:"left"})]}):Object(h.jsx)(_.a,{onClick:W,content:"Add Comment",labelPosition:"left"})]}):Object(h.jsx)(l.a,{raised:!0,children:Object(h.jsxs)(j.a,{textAlign:"center",as:"h3",children:["To add comment and rating you have to ",Object(h.jsx)("a",{href:"/login",children:"Log"})," ","in or ",Object(h.jsx)("a",{href:"/register",children:"Register"}),"!"]})})]})})]}),Object(h.jsx)(y.b,{position:"top-right",autoClose:2e3,hideProgressBar:!1,newestOnTop:!1,closeOnClick:!0,rtl:!1,pauseOnFocusLoss:!1,draggable:!0,pauseOnHover:!0,transition:y.a})]})},ie=function(){var e=Object(o.h)().id,t=Object(a.useState)(null),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(),d=Object(i.a)(s,2),b=d[0],p=d[1],O=Object(a.useState)(),x=Object(i.a)(O,2),m=x[0],g=x[1];return Object(a.useEffect)((function(){var t=function(){var t=Object(F.a)(S.a.mark((function t(){var n,a;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,L.a.get("/api/london-parks-api/".concat(e));case 2:n=t.sent,a=n.data,r(a),p(parseFloat(a.latitude)),g(parseFloat(a.longitude));case 7:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();t()}),[e]),Object(h.jsx)(h.Fragment,{children:c&&Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)(l.a,{raised:!0,className:"regionTitle",children:Object(h.jsxs)(j.a,{as:"h1",textAlign:"center",id:"parkHeader",color:"green",children:[c.title," \ud83c\udf41"]})}),Object(h.jsx)(I.a,{children:Object(h.jsx)(u.a,{showThumbs:!0,infiniteLoop:!0,autoPlay:!0,interval:2500,transitionTime:1e3,autoFocus:!0,swipeable:!0,dynamicHeight:!0,animationHandler:"fade",children:c.images.map((function(e){return Object(h.jsx)("img",{src:e,alt:c.title})}))})}),Object(h.jsx)(H.a,{hidden:!0}),Object(h.jsxs)(I.a,{children:[Object(h.jsx)(j.a,{as:"h3",color:"olive",children:Object(h.jsx)("b",{children:"Description"})}),Object(h.jsx)(I.a,{children:c.description}),Object(h.jsx)(X,{park:c}),Object(h.jsxs)(N.a,{columns:3,children:[Object(h.jsxs)(N.a.Column,{children:[Object(h.jsx)(te,{park:c}),Object(h.jsx)(V,{park:c,id:e})]}),Object(h.jsx)(T.a,{children:Object(h.jsx)(ee,{park:c})}),Object(h.jsx)(N.a.Column,{children:Object(h.jsx)(ae,{park:c})})]}),Object(h.jsx)(l.a,{raised:!0,color:"olive",children:Object(h.jsx)(B.a,{mapboxApiAccessToken:"pk.eyJ1IjoiamFuZWsyMjA0OTEiLCJhIjoiY2t3MjRqZ2hsMDZxOTMxcWxzb3lteWhnNCJ9.vKujjvCJQMx9JepYmly5Cg",height:"30em",width:"100%",mapStyle:"mapbox://styles/mapbox/streets-v11",zoom:13,latitude:b,longitude:m})}),Object(h.jsx)(l.a,{basic:!0}),Object(h.jsx)(I.a,{children:Object(h.jsx)(re,{id:e})}),Object(h.jsx)(H.a,{})]})]})})},se=n(290),oe=function(e){var t=e.handleImageUrl,n=e.value,a=function(){var e=Object(F.a)(S.a.mark((function e(n){var a,c;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("file",n.target.files[0]),a.append("upload_preset","kywazwd7"),e.next=5,L.a.post("https://api.cloudinary.com/v1_1/dawxvtoeo/image/upload",a);case 5:c=e.sent,t(c.data.url);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(h.jsxs)(h.Fragment,{children:[Object(h.jsx)("label",{children:"Profile Picture"}),n?Object(h.jsx)(m.a,{src:n,alt:"Choosen image",fluid:!0}):Object(h.jsx)(se.a,{name:"profilePicture",type:"file",onChange:a})]})},le=function(){var e=Object(o.f)(),t=Object(a.useState)({username:"",email:"",password:"",profilePicture:"",passwordConfirmation:""}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)({username:"",email:"",profilePicture:"",password:"",passwordConfirmation:""}),d=Object(i.a)(s,2),u=d[0],b=d[1],p=function(e){var t=Object(Z.a)(Object(Z.a)({},c),{},Object(ce.a)({},e.target.name,e.target.value));r(t)},O=function(){var t=Object(F.a)(S.a.mark((function t(n){return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,L.a.post("api/register",c);case 4:e.push("/login"),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(1),b(t.t0.response.data.errors);case 10:case"end":return t.stop()}}),t,null,[[1,7]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(g.a.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},children:Object(h.jsx)(N.a,{centered:!0,children:Object(h.jsx)(T.a,{style:{maxWidth:550,marginTop:100},children:Object(h.jsx)(l.a,{children:Object(h.jsxs)($.a,{onSubmit:O,children:[Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Username"}),Object(h.jsx)("input",{required:!0,placeholder:"Username",name:"username",type:"text",onChange:p}),u.username&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"User name has to be unique"})]}),Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{required:!0,placeholder:"Email",name:"email",type:"email",onChange:p}),u.email&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"Email address has to be unique"})]}),Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{placeholder:"Password",type:"password",name:"password",onChange:p}),u.passwordConfirmation&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"Passwords does not match!"})]}),Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Confirm Password"}),Object(h.jsx)("input",{placeholder:"Confirm Password",type:"password",name:"passwordConfirmation",onChange:p}),u.password&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"Passwords does not match!"})]}),Object(h.jsx)($.a.Field,{children:Object(h.jsx)(oe,{value:c.profilePicture,name:"profilePicture",handleImageUrl:function(e){r(Object(Z.a)(Object(Z.a)({},c),{},{profilePicture:e}))}})}),Object(h.jsx)(_.a,{positive:!0,fluid:!0,type:"submit",children:"Submit"})]})})})})})},je=function(){var e=Object(o.f)(),t=Object(a.useState)({email:"",password:""}),n=Object(i.a)(t,2),c=n[0],r=n[1],s=Object(a.useState)(!1),d=Object(i.a)(s,2),u=d[0],b=d[1],p=function(e){var t=Object(Z.a)(Object(Z.a)({},c),{},Object(ce.a)({},e.target.name,e.target.value));r(t)},O=function(){var t=Object(F.a)(S.a.mark((function t(n){var a,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),t.prev=1,t.next=4,L.a.post("/api/login",c);case 4:a=t.sent,r=a.data,i=r.token,window.localStorage.setItem("token",i),e.push("/profile"),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(1),b(!0);case 13:case"end":return t.stop()}var i}),t,null,[[1,10]])})));return function(e){return t.apply(this,arguments)}}();return Object(h.jsx)(g.a.div,{initial:{scaleY:0},animate:{scaleY:1},exit:{scaleY:0},children:Object(h.jsx)(N.a,{centered:!0,children:Object(h.jsx)(T.a,{style:{maxWidth:550,marginTop:100},children:Object(h.jsx)(l.a,{children:Object(h.jsxs)($.a,{onSubmit:O,children:[Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Email"}),Object(h.jsx)("input",{required:!0,placeholder:"Email",name:"email",type:"email",onChange:p}),u&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"Login or password are inncorect!"})]}),Object(h.jsxs)($.a.Field,{children:[Object(h.jsx)("label",{children:"Password"}),Object(h.jsx)("input",{placeholder:"Password",type:"password",name:"password",onChange:p}),u&&Object(h.jsx)(j.a,{sub:!0,color:"red",children:"Password or login are inncorect!"})]}),Object(h.jsx)(_.a,{positive:!0,fluid:!0,type:"submit",children:"Submit"})]})})})})})},de=function(){var e=Object(a.useState)([]),t=Object(i.a)(e,2),n=t[0],c=t[1];return Object(h.jsxs)(s.a,{children:[Object(h.jsx)(C,{userData:n}),Object(h.jsxs)(o.c,{children:[Object(h.jsx)(o.a,{exact:!0,path:"/",component:b}),Object(h.jsx)(o.a,{exact:!0,path:"/parks",component:U}),Object(h.jsx)(o.a,{exact:!0,path:"/login",component:je}),Object(h.jsx)(o.a,{exact:!0,path:"/register",component:le}),Object(h.jsxs)(o.a,{excat:!0,path:"/profile",children:[" ",Object(h.jsx)(J,{setUserData:c})]}),Object(h.jsx)(o.a,{exact:!0,path:"/parks/region",component:q}),Object(h.jsx)(o.a,{exact:!0,path:"/parks/:id",component:ie})]})]})};n(269);r.a.render(Object(h.jsx)(de,{}),document.getElementById("root"))}},[[270,1,2]]]);
//# sourceMappingURL=main.1103f11b.chunk.js.map